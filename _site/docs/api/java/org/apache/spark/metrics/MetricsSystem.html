<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Apr 02 14:27:56 PDT 2015 -->
<title>MetricsSystem (Spark 1.4.0 JavaDoc)</title>
<meta name="date" content="2015-04-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MetricsSystem (Spark 1.4.0 JavaDoc)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/spark/metrics/MetricsConfig.html" title="class in org.apache.spark.metrics"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/spark/metrics/MetricsSystem.html" target="_top">Frames</a></li>
<li><a href="MetricsSystem.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.metrics</div>
<h2 title="Class MetricsSystem" class="title">Class MetricsSystem</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>org.apache.spark.metrics.MetricsSystem</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/spark/Logging.html" title="interface in org.apache.spark">Logging</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MetricsSystem</span>
extends Object
implements <a href="../../../../org/apache/spark/Logging.html" title="interface in org.apache.spark">Logging</a></pre>
<div class="block">Spark Metrics System, created by specific "instance", combined by source,
 sink, periodically poll source metrics data to sink destinations.
 <p>
 "instance" specify "who" (the role) use metrics system. In spark there are several roles
 like master, worker, executor, client driver, these roles will create metrics system
 for monitoring. So instance represents these roles. Currently in Spark, several instances
 have already implemented: master, worker, executor, driver, applications.
 <p>
 "source" specify "where" (source) to collect metrics data. In metrics system, there exists
 two kinds of source:
   1. Spark internal source, like MasterSource, WorkerSource, etc, which will collect
   Spark component's internal state, these sources are related to instance and will be
   added after specific metrics system is created.
   2. Common source, like JvmSource, which will collect low level state, is configured by
   configuration and loaded through reflection.
 <p>
 "sink" specify "where" (destination) to output metrics data to. Several sinks can be
 coexisted and flush metrics to all these sinks.
 <p>
 Metrics configuration format is like below:
 [instance].[sink|source].[name].[options] = xxxx
 <p>
 [instance] can be "master", "worker", "executor", "driver", "applications" which means only
 the specified instance has this property.
 wild card "*" can be used to replace instance name, which means all the instances will have
 this property.
 <p>
 [sink|source] means this property belongs to source or sink. This field can only be
 source or sink.
 <p>
 [name] specify the name of sink or source, it is custom defined.
 <p>
 [options] is the specific property of this source or sink.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#buildRegistryName(org.apache.spark.metrics.source.Source)">buildRegistryName</a></strong>(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</code>
<div class="block">Build a name that uniquely identifies each metric source.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#checkMinimalPollingPeriod(java.util.concurrent.TimeUnit,%20int)">checkMinimalPollingPeriod</a></strong>(java.util.concurrent.TimeUnit&nbsp;pollUnit,
                         int&nbsp;pollPeriod)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/spark/metrics/MetricsSystem.html" title="class in org.apache.spark.metrics">MetricsSystem</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#createMetricsSystem(java.lang.String,%20org.apache.spark.SparkConf,%20org.apache.spark.SecurityManager)">createMetricsSystem</a></strong>(String&nbsp;instance,
                   <a href="../../../../org/apache/spark/SparkConf.html" title="class in org.apache.spark">SparkConf</a>&nbsp;conf,
                   <a href="../../../../org/apache/spark/SecurityManager.html" title="class in org.apache.spark">SecurityManager</a>&nbsp;securityMgr)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.jetty.servlet.ServletContextHandler[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#getServletHandlers()">getServletHandlers</a></strong>()</code>
<div class="block">Get any UI handlers used by this metrics system; can only be called after start().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#instance()">instance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#registerSource(org.apache.spark.metrics.source.Source)">registerSource</a></strong>(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#removeSource(org.apache.spark.metrics.source.Source)">removeSource</a></strong>(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#report()">report</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static scala.util.matching.Regex</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#SINK_REGEX()">SINK_REGEX</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static scala.util.matching.Regex</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#SOURCE_REGEX()">SOURCE_REGEX</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#start()">start</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/metrics/MetricsSystem.html#stop()">stop</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.spark.Logging">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.spark.<a href="../../../../org/apache/spark/Logging.html" title="interface in org.apache.spark">Logging</a></h3>
<code><a href="../../../../org/apache/spark/Logging.html#initializeIfNecessary()">initializeIfNecessary</a>, <a href="../../../../org/apache/spark/Logging.html#initializeLogging()">initializeLogging</a>, <a href="../../../../org/apache/spark/Logging.html#isTraceEnabled()">isTraceEnabled</a>, <a href="../../../../org/apache/spark/Logging.html#log_()">log_</a>, <a href="../../../../org/apache/spark/Logging.html#log()">log</a>, <a href="../../../../org/apache/spark/Logging.html#logDebug(scala.Function0)">logDebug</a>, <a href="../../../../org/apache/spark/Logging.html#logDebug(scala.Function0,%20java.lang.Throwable)">logDebug</a>, <a href="../../../../org/apache/spark/Logging.html#logError(scala.Function0)">logError</a>, <a href="../../../../org/apache/spark/Logging.html#logError(scala.Function0,%20java.lang.Throwable)">logError</a>, <a href="../../../../org/apache/spark/Logging.html#logInfo(scala.Function0)">logInfo</a>, <a href="../../../../org/apache/spark/Logging.html#logInfo(scala.Function0,%20java.lang.Throwable)">logInfo</a>, <a href="../../../../org/apache/spark/Logging.html#logName()">logName</a>, <a href="../../../../org/apache/spark/Logging.html#logTrace(scala.Function0)">logTrace</a>, <a href="../../../../org/apache/spark/Logging.html#logTrace(scala.Function0,%20java.lang.Throwable)">logTrace</a>, <a href="../../../../org/apache/spark/Logging.html#logWarning(scala.Function0)">logWarning</a>, <a href="../../../../org/apache/spark/Logging.html#logWarning(scala.Function0,%20java.lang.Throwable)">logWarning</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="SINK_REGEX()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SINK_REGEX</h4>
<pre>public static&nbsp;scala.util.matching.Regex&nbsp;SINK_REGEX()</pre>
</li>
</ul>
<a name="SOURCE_REGEX()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SOURCE_REGEX</h4>
<pre>public static&nbsp;scala.util.matching.Regex&nbsp;SOURCE_REGEX()</pre>
</li>
</ul>
<a name="checkMinimalPollingPeriod(java.util.concurrent.TimeUnit, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkMinimalPollingPeriod</h4>
<pre>public static&nbsp;void&nbsp;checkMinimalPollingPeriod(java.util.concurrent.TimeUnit&nbsp;pollUnit,
                             int&nbsp;pollPeriod)</pre>
</li>
</ul>
<a name="createMetricsSystem(java.lang.String, org.apache.spark.SparkConf, org.apache.spark.SecurityManager)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMetricsSystem</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/spark/metrics/MetricsSystem.html" title="class in org.apache.spark.metrics">MetricsSystem</a>&nbsp;createMetricsSystem(String&nbsp;instance,
                                <a href="../../../../org/apache/spark/SparkConf.html" title="class in org.apache.spark">SparkConf</a>&nbsp;conf,
                                <a href="../../../../org/apache/spark/SecurityManager.html" title="class in org.apache.spark">SecurityManager</a>&nbsp;securityMgr)</pre>
</li>
</ul>
<a name="instance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>public&nbsp;String&nbsp;instance()</pre>
</li>
</ul>
<a name="getServletHandlers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServletHandlers</h4>
<pre>public&nbsp;org.eclipse.jetty.servlet.ServletContextHandler[]&nbsp;getServletHandlers()</pre>
<div class="block">Get any UI handlers used by this metrics system; can only be called after start().</div>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
</li>
</ul>
<a name="report()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>report</h4>
<pre>public&nbsp;void&nbsp;report()</pre>
</li>
</ul>
<a name="buildRegistryName(org.apache.spark.metrics.source.Source)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildRegistryName</h4>
<pre>public&nbsp;String&nbsp;buildRegistryName(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</pre>
<div class="block">Build a name that uniquely identifies each metric source.
 The name is structured as follows: <app ID>.<executor ID (or "driver")>.<source name>.
 If either ID is not available, this defaults to just using <source name>.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - Metric source to be named by this method.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An unique metric name for each combination of
         application, executor/driver and metric source.</dd></dl>
</li>
</ul>
<a name="registerSource(org.apache.spark.metrics.source.Source)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerSource</h4>
<pre>public&nbsp;void&nbsp;registerSource(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</pre>
</li>
</ul>
<a name="removeSource(org.apache.spark.metrics.source.Source)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeSource</h4>
<pre>public&nbsp;void&nbsp;removeSource(<a href="../../../../org/apache/spark/metrics/source/Source.html" title="interface in org.apache.spark.metrics.source">Source</a>&nbsp;source)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/spark/metrics/MetricsConfig.html" title="class in org.apache.spark.metrics"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/spark/metrics/MetricsSystem.html" target="_top">Frames</a></li>
<li><a href="MetricsSystem.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
