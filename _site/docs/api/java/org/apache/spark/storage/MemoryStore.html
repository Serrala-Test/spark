<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Apr 02 14:27:50 PDT 2015 -->
<title>MemoryStore (Spark 1.4.0 JavaDoc)</title>
<meta name="date" content="2015-04-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemoryStore (Spark 1.4.0 JavaDoc)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/spark/storage/MemoryEntry.html" title="class in org.apache.spark.storage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/spark/storage/MemoryStore.html" target="_top">Frames</a></li>
<li><a href="MemoryStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.storage</div>
<h2 title="Class MemoryStore" class="title">Class MemoryStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">org.apache.spark.storage.BlockStore</a></li>
<li>
<ul class="inheritance">
<li>org.apache.spark.storage.MemoryStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/spark/Logging.html" title="interface in org.apache.spark">Logging</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MemoryStore</span>
extends <a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></pre>
<div class="block">Stores blocks in memory, either as Arrays of deserialized Java objects or as
 serialized ByteBuffers.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#MemoryStore(org.apache.spark.storage.BlockManager,%20long)">MemoryStore</a></strong>(<a href="../../../../org/apache/spark/storage/BlockManager.html" title="class in org.apache.spark.storage">BlockManager</a>&nbsp;blockManager,
           long&nbsp;maxMemory)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#clear()">clear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#contains(org.apache.spark.storage.BlockId)">contains</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#currentUnrollMemory()">currentUnrollMemory</a></strong>()</code>
<div class="block">Return the amount of memory currently occupied for unrolling blocks across all threads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#currentUnrollMemoryForThisThread()">currentUnrollMemoryForThisThread</a></strong>()</code>
<div class="block">Return the amount of memory currently occupied for unrolling blocks by this thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#freeMemory()">freeMemory</a></strong>()</code>
<div class="block">Free memory not occupied by existing blocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>scala.Option&lt;java.nio.ByteBuffer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#getBytes(org.apache.spark.storage.BlockId)">getBytes</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#getSize(org.apache.spark.storage.BlockId)">getSize</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</code>
<div class="block">Return the size of a block in bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>scala.Option&lt;scala.collection.Iterator&lt;Object&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#getValues(org.apache.spark.storage.BlockId)">getValues</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#logMemoryUsage()">logMemoryUsage</a></strong>()</code>
<div class="block">Log information about current memory usage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#logUnrollFailureMessage(org.apache.spark.storage.BlockId,%20long)">logUnrollFailureMessage</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                       long&nbsp;finalVectorSize)</code>
<div class="block">Log a warning for failing to unroll a block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#numThreadsUnrolling()">numThreadsUnrolling</a></strong>()</code>
<div class="block">Return the number of threads currently unrolling blocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#putArray(org.apache.spark.storage.BlockId,%20java.lang.Object[],%20org.apache.spark.storage.StorageLevel,%20boolean)">putArray</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
        Object[]&nbsp;values,
        <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
        boolean&nbsp;returnValues)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#putBytes(org.apache.spark.storage.BlockId,%20java.nio.ByteBuffer,%20org.apache.spark.storage.StorageLevel)">putBytes</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
        java.nio.ByteBuffer&nbsp;_bytes,
        <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#putBytes(org.apache.spark.storage.BlockId,%20long,%20scala.Function0)">putBytes</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
        long&nbsp;size,
        scala.Function0&lt;java.nio.ByteBuffer&gt;&nbsp;_bytes)</code>
<div class="block">Use <code>size</code> to test if there is enough space in MemoryStore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#putIterator(org.apache.spark.storage.BlockId,%20scala.collection.Iterator,%20org.apache.spark.storage.StorageLevel,%20boolean)">putIterator</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
           scala.collection.Iterator&lt;Object&gt;&nbsp;values,
           <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
           boolean&nbsp;returnValues)</code>
<div class="block">Put in a block and, possibly, also return its content as either bytes or another Iterator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#putIterator(org.apache.spark.storage.BlockId,%20scala.collection.Iterator,%20org.apache.spark.storage.StorageLevel,%20boolean,%20boolean)">putIterator</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
           scala.collection.Iterator&lt;Object&gt;&nbsp;values,
           <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
           boolean&nbsp;returnValues,
           boolean&nbsp;allowPersistToDisk)</code>
<div class="block">Attempt to put the given block in memory store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#releasePendingUnrollMemoryForThisThread()">releasePendingUnrollMemoryForThisThread</a></strong>()</code>
<div class="block">Release pending unroll memory of current unroll successful block used by this thread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#releaseUnrollMemoryForThisThread(long)">releaseUnrollMemoryForThisThread</a></strong>(long&nbsp;memory)</code>
<div class="block">Release memory used by this thread for unrolling blocks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#remove(org.apache.spark.storage.BlockId)">remove</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</code>
<div class="block">Remove a block, if it exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#reservePendingUnrollMemoryForThisThread(long)">reservePendingUnrollMemoryForThisThread</a></strong>(long&nbsp;memory)</code>
<div class="block">Reserve the unroll memory of current unroll successful block used by this thread
 until actually put the block into memory entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#reserveUnrollMemoryForThisThread(long)">reserveUnrollMemoryForThisThread</a></strong>(long&nbsp;memory)</code>
<div class="block">Reserve additional memory for unrolling blocks used by this thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>scala.util.Either&lt;Object[],scala.collection.Iterator&lt;Object&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/spark/storage/MemoryStore.html#unrollSafely(org.apache.spark.storage.BlockId,%20scala.collection.Iterator,%20scala.collection.mutable.ArrayBuffer)">unrollSafely</a></strong>(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
            scala.collection.Iterator&lt;Object&gt;&nbsp;values,
            scala.collection.mutable.ArrayBuffer&lt;scala.Tuple2&lt;<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>,<a href="../../../../org/apache/spark/storage/BlockStatus.html" title="class in org.apache.spark.storage">BlockStatus</a>&gt;&gt;&nbsp;droppedBlocks)</code>
<div class="block">Unroll the given block in memory safely.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.spark.storage.BlockStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.spark.storage.<a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></h3>
<code><a href="../../../../org/apache/spark/storage/BlockStore.html#blockManager()">blockManager</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.spark.Logging">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.spark.<a href="../../../../org/apache/spark/Logging.html" title="interface in org.apache.spark">Logging</a></h3>
<code><a href="../../../../org/apache/spark/Logging.html#initializeIfNecessary()">initializeIfNecessary</a>, <a href="../../../../org/apache/spark/Logging.html#initializeLogging()">initializeLogging</a>, <a href="../../../../org/apache/spark/Logging.html#isTraceEnabled()">isTraceEnabled</a>, <a href="../../../../org/apache/spark/Logging.html#log_()">log_</a>, <a href="../../../../org/apache/spark/Logging.html#log()">log</a>, <a href="../../../../org/apache/spark/Logging.html#logDebug(scala.Function0)">logDebug</a>, <a href="../../../../org/apache/spark/Logging.html#logDebug(scala.Function0,%20java.lang.Throwable)">logDebug</a>, <a href="../../../../org/apache/spark/Logging.html#logError(scala.Function0)">logError</a>, <a href="../../../../org/apache/spark/Logging.html#logError(scala.Function0,%20java.lang.Throwable)">logError</a>, <a href="../../../../org/apache/spark/Logging.html#logInfo(scala.Function0)">logInfo</a>, <a href="../../../../org/apache/spark/Logging.html#logInfo(scala.Function0,%20java.lang.Throwable)">logInfo</a>, <a href="../../../../org/apache/spark/Logging.html#logName()">logName</a>, <a href="../../../../org/apache/spark/Logging.html#logTrace(scala.Function0)">logTrace</a>, <a href="../../../../org/apache/spark/Logging.html#logTrace(scala.Function0,%20java.lang.Throwable)">logTrace</a>, <a href="../../../../org/apache/spark/Logging.html#logWarning(scala.Function0)">logWarning</a>, <a href="../../../../org/apache/spark/Logging.html#logWarning(scala.Function0,%20java.lang.Throwable)">logWarning</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MemoryStore(org.apache.spark.storage.BlockManager, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MemoryStore</h4>
<pre>public&nbsp;MemoryStore(<a href="../../../../org/apache/spark/storage/BlockManager.html" title="class in org.apache.spark.storage">BlockManager</a>&nbsp;blockManager,
           long&nbsp;maxMemory)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="freeMemory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeMemory</h4>
<pre>public&nbsp;long&nbsp;freeMemory()</pre>
<div class="block">Free memory not occupied by existing blocks. Note that this does not include unroll memory.</div>
</li>
</ul>
<a name="getSize(org.apache.spark.storage.BlockId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;long&nbsp;getSize(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html#getSize(org.apache.spark.storage.BlockId)">BlockStore</a></code></strong></div>
<div class="block">Return the size of a block in bytes.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#getSize(org.apache.spark.storage.BlockId)">getSize</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="putBytes(org.apache.spark.storage.BlockId, java.nio.ByteBuffer, org.apache.spark.storage.StorageLevel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putBytes</h4>
<pre>public&nbsp;<a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a>&nbsp;putBytes(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                 java.nio.ByteBuffer&nbsp;_bytes,
                 <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#putBytes(org.apache.spark.storage.BlockId,%20java.nio.ByteBuffer,%20org.apache.spark.storage.StorageLevel)">putBytes</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="putBytes(org.apache.spark.storage.BlockId, long, scala.Function0)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putBytes</h4>
<pre>public&nbsp;<a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a>&nbsp;putBytes(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                 long&nbsp;size,
                 scala.Function0&lt;java.nio.ByteBuffer&gt;&nbsp;_bytes)</pre>
<div class="block">Use <code>size</code> to test if there is enough space in MemoryStore. If so, create the ByteBuffer and
 put it into MemoryStore. Otherwise, the ByteBuffer won't be created.
 <p>
 The caller should guarantee that <code>size</code> is correct.</div>
</li>
</ul>
<a name="putArray(org.apache.spark.storage.BlockId, java.lang.Object[], org.apache.spark.storage.StorageLevel, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putArray</h4>
<pre>public&nbsp;<a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a>&nbsp;putArray(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                 Object[]&nbsp;values,
                 <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
                 boolean&nbsp;returnValues)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#putArray(org.apache.spark.storage.BlockId,%20java.lang.Object[],%20org.apache.spark.storage.StorageLevel,%20boolean)">putArray</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="putIterator(org.apache.spark.storage.BlockId, scala.collection.Iterator, org.apache.spark.storage.StorageLevel, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putIterator</h4>
<pre>public&nbsp;<a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a>&nbsp;putIterator(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                    scala.collection.Iterator&lt;Object&gt;&nbsp;values,
                    <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
                    boolean&nbsp;returnValues)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html#putIterator(org.apache.spark.storage.BlockId,%20scala.collection.Iterator,%20org.apache.spark.storage.StorageLevel,%20boolean)">BlockStore</a></code></strong></div>
<div class="block">Put in a block and, possibly, also return its content as either bytes or another Iterator.
 This is used to efficiently write the values to multiple locations (e.g. for replication).
 <p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#putIterator(org.apache.spark.storage.BlockId,%20scala.collection.Iterator,%20org.apache.spark.storage.StorageLevel,%20boolean)">putIterator</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a PutResult that contains the size of the data, as well as the values put if
         returnValues is true (if not, the result's data field can be null)</dd></dl>
</li>
</ul>
<a name="putIterator(org.apache.spark.storage.BlockId, scala.collection.Iterator, org.apache.spark.storage.StorageLevel, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putIterator</h4>
<pre>public&nbsp;<a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage">PutResult</a>&nbsp;putIterator(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                    scala.collection.Iterator&lt;Object&gt;&nbsp;values,
                    <a href="../../../../org/apache/spark/storage/StorageLevel.html" title="class in org.apache.spark.storage">StorageLevel</a>&nbsp;level,
                    boolean&nbsp;returnValues,
                    boolean&nbsp;allowPersistToDisk)</pre>
<div class="block">Attempt to put the given block in memory store.
 <p>
 There may not be enough space to fully unroll the iterator in memory, in which case we
 optionally drop the values to disk if
   (1) the block's storage level specifies useDisk, and
   (2) <code>allowPersistToDisk</code> is true.
 <p>
 One scenario in which <code>allowPersistToDisk</code> is false is when the BlockManager reads a block
 back from disk and attempts to cache it in memory. In this case, we should not persist the
 block back on disk again, as it is already in disk store.</div>
</li>
</ul>
<a name="getBytes(org.apache.spark.storage.BlockId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytes</h4>
<pre>public&nbsp;scala.Option&lt;java.nio.ByteBuffer&gt;&nbsp;getBytes(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#getBytes(org.apache.spark.storage.BlockId)">getBytes</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getValues(org.apache.spark.storage.BlockId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValues</h4>
<pre>public&nbsp;scala.Option&lt;scala.collection.Iterator&lt;Object&gt;&gt;&nbsp;getValues(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#getValues(org.apache.spark.storage.BlockId)">getValues</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="remove(org.apache.spark.storage.BlockId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;boolean&nbsp;remove(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html#remove(org.apache.spark.storage.BlockId)">BlockStore</a></code></strong></div>
<div class="block">Remove a block, if it exists.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#remove(org.apache.spark.storage.BlockId)">remove</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>blockId</code> - the block to remove.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the block was found and removed, False otherwise.</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#clear()">clear</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="unrollSafely(org.apache.spark.storage.BlockId, scala.collection.Iterator, scala.collection.mutable.ArrayBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unrollSafely</h4>
<pre>public&nbsp;scala.util.Either&lt;Object[],scala.collection.Iterator&lt;Object&gt;&gt;&nbsp;unrollSafely(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                                                                         scala.collection.Iterator&lt;Object&gt;&nbsp;values,
                                                                         scala.collection.mutable.ArrayBuffer&lt;scala.Tuple2&lt;<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>,<a href="../../../../org/apache/spark/storage/BlockStatus.html" title="class in org.apache.spark.storage">BlockStatus</a>&gt;&gt;&nbsp;droppedBlocks)</pre>
<div class="block">Unroll the given block in memory safely.
 <p>
 The safety of this operation refers to avoiding potential OOM exceptions caused by
 unrolling the entirety of the block in memory at once. This is achieved by periodically
 checking whether the memory restrictions for unrolling blocks are still satisfied,
 stopping immediately if not. This check is a safeguard against the scenario in which
 there is not enough free memory to accommodate the entirety of a single block.
 <p>
 This method returns either an array with the contents of the entire block or an iterator
 containing the values of the block (if the array would have exceeded available memory).</div>
</li>
</ul>
<a name="contains(org.apache.spark.storage.BlockId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/spark/storage/BlockStore.html#contains(org.apache.spark.storage.BlockId)">contains</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/spark/storage/BlockStore.html" title="class in org.apache.spark.storage">BlockStore</a></code></dd>
</dl>
</li>
</ul>
<a name="reserveUnrollMemoryForThisThread(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserveUnrollMemoryForThisThread</h4>
<pre>public&nbsp;boolean&nbsp;reserveUnrollMemoryForThisThread(long&nbsp;memory)</pre>
<div class="block">Reserve additional memory for unrolling blocks used by this thread.
 Return whether the request is granted.</div>
</li>
</ul>
<a name="releaseUnrollMemoryForThisThread(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseUnrollMemoryForThisThread</h4>
<pre>public&nbsp;void&nbsp;releaseUnrollMemoryForThisThread(long&nbsp;memory)</pre>
<div class="block">Release memory used by this thread for unrolling blocks.
 If the amount is not specified, remove the current thread's allocation altogether.</div>
</li>
</ul>
<a name="reservePendingUnrollMemoryForThisThread(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reservePendingUnrollMemoryForThisThread</h4>
<pre>public&nbsp;void&nbsp;reservePendingUnrollMemoryForThisThread(long&nbsp;memory)</pre>
<div class="block">Reserve the unroll memory of current unroll successful block used by this thread
 until actually put the block into memory entry.</div>
</li>
</ul>
<a name="releasePendingUnrollMemoryForThisThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releasePendingUnrollMemoryForThisThread</h4>
<pre>public&nbsp;void&nbsp;releasePendingUnrollMemoryForThisThread()</pre>
<div class="block">Release pending unroll memory of current unroll successful block used by this thread</div>
</li>
</ul>
<a name="currentUnrollMemory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentUnrollMemory</h4>
<pre>public&nbsp;long&nbsp;currentUnrollMemory()</pre>
<div class="block">Return the amount of memory currently occupied for unrolling blocks across all threads.</div>
</li>
</ul>
<a name="currentUnrollMemoryForThisThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentUnrollMemoryForThisThread</h4>
<pre>public&nbsp;long&nbsp;currentUnrollMemoryForThisThread()</pre>
<div class="block">Return the amount of memory currently occupied for unrolling blocks by this thread.</div>
</li>
</ul>
<a name="numThreadsUnrolling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numThreadsUnrolling</h4>
<pre>public&nbsp;int&nbsp;numThreadsUnrolling()</pre>
<div class="block">Return the number of threads currently unrolling blocks.</div>
</li>
</ul>
<a name="logMemoryUsage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logMemoryUsage</h4>
<pre>public&nbsp;void&nbsp;logMemoryUsage()</pre>
<div class="block">Log information about current memory usage.</div>
</li>
</ul>
<a name="logUnrollFailureMessage(org.apache.spark.storage.BlockId, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logUnrollFailureMessage</h4>
<pre>public&nbsp;void&nbsp;logUnrollFailureMessage(<a href="../../../../org/apache/spark/storage/BlockId.html" title="class in org.apache.spark.storage">BlockId</a>&nbsp;blockId,
                           long&nbsp;finalVectorSize)</pre>
<div class="block">Log a warning for failing to unroll a block.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blockId</code> - ID of the block we are trying to unroll.</dd><dd><code>finalVectorSize</code> - Final size of the vector before unrolling failed.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/spark/storage/MemoryEntry.html" title="class in org.apache.spark.storage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/spark/storage/PutResult.html" title="class in org.apache.spark.storage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/spark/storage/MemoryStore.html" target="_top">Frames</a></li>
<li><a href="MemoryStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
