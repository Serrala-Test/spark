================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2227           2295          69          2.2         445.4       1.0X
UTF-8 is set                                       3397           3415          16          1.5         679.5       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1927           1945          17          2.6         385.4       1.0X
UTF-8 is set                                       3140           3151          10          1.6         627.9       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4483           4551          82          0.2        4483.0       1.0X
UTF-8 is set                                       4089           4112          21          0.2        4088.5       1.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        9343           9507         169          0.0      186867.7       1.0X
UTF-8 is set                                      10800          10853          46          0.0      216004.3       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1674           1682           9          0.6        1674.4       1.0X
Select 1 column                                    1132           1140          13          0.9        1131.8       1.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       622            627           5          1.6         621.7       1.0X
Short column with UTF-8                             879            882           4          1.1         879.4       0.7X
Wide column without encoding                       5134           5152          19          0.2        5134.2       0.1X
Wide column with UTF-8                             6512           6536          26          0.2        6511.9       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            57             59           2         17.6          56.9       1.0X
from_json                                          1174           1188          12          0.9        1173.9       0.0X
json_tuple wholestage off                          1540           1559          18          0.6        1540.0       0.0X
json_tuple wholestage on                           1253           1267          13          0.8        1253.1       0.0X
get_json_object wholestage off                     1074           1091          18          0.9        1073.8       0.1X
get_json_object wholestage on                      1010           1018           7          1.0        1009.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           230            233           3         21.7          46.1       1.0X
schema inferring                                   1874           1881           6          2.7         374.8       0.1X
parsing                                            2920           2933          12          1.7         584.0       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           548            558          10          9.1         109.7       1.0X
Schema inferring                                   2417           2428          15          2.1         483.5       0.2X
Parsing without charset                            2930           2939           8          1.7         586.0       0.2X
Parsing with UTF-8                                 4042           4054          19          1.2         808.5       0.1X

OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      105            111           7          9.5         105.5       1.0X
to_json(timestamp)                                  739            755          20          1.4         739.3       0.1X
write timestamps to files                           658            661           3          1.5         658.4       0.2X
Create a dataset of dates                           128            134           5          7.8         128.1       0.8X
to_json(date)                                       547            551           6          1.8         547.0       0.2X
write dates to files                                453            459           8          2.2         453.3       0.2X

OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   138            144           5          7.2         138.2       1.0X
read timestamps from files                                                      1111           1114           3          0.9        1110.9       0.1X
infer timestamps from files                                                     2059           2063           5          0.5        2058.8       0.1X
read date text from files                                                        131            135           5          7.7         130.5       1.1X
read date from files                                                             709            713           3          1.4         709.2       0.2X
timestamp strings                                                                134            138           5          7.5         133.7       1.0X
parse timestamps from Dataset[String]                                           1318           1321           3          0.8        1317.6       0.1X
infer timestamps from Dataset[String]                                           2241           2253          11          0.4        2240.6       0.1X
date strings                                                                     209            211           2          4.8         209.0       0.7X
parse dates from Dataset[String]                                                1029           1031           2          1.0        1029.3       0.1X
from_json(timestamp)                                                            1836           1838           3          0.5        1836.2       0.1X
from_json(date)                                                                 1523           1528           4          0.7        1523.5       0.1X
infer error timestamps from Dataset[String] with default format                 1428           1430           4          0.7        1427.5       0.1X
infer error timestamps from Dataset[String] with user-provided format           1437           1442           4          0.7        1437.4       0.1X
infer error timestamps from Dataset[String] with legacy format                  1433           1445          14          0.7        1433.1       0.1X

OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        5833           5844           9          0.0       58332.7       1.0X
pushdown disabled                                  5674           5711          33          0.0       56738.3       1.0X
w/ filters                                          701            708           6          0.1        7005.5       8.3X

OpenJDK 64-Bit Server VM 21.0.2+13-LTS on Linux 6.5.0-1016-azure
AMD EPYC 7763 64-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2433           2550         179          0.0      243304.9       1.0X


