================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3004           3017          12          1.7         600.8       1.0X
UTF-8 is set                                       4430           4446          17          1.1         886.0       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2345           2392          44          2.1         469.0       1.0X
UTF-8 is set                                       3832           3845          11          1.3         766.4       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        7234           7306          71          0.1        7234.4       1.0X
UTF-8 is set                                       6396           6449          57          0.2        6396.1       1.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       12800          12832          39          0.0      255996.9       1.0X
UTF-8 is set                                      13818          13931         115          0.0      276350.2       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1948           1966          31          0.5        1947.5       1.0X
Select 1 column                                    1453           1456           4          0.7        1452.6       1.3X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       664            675          12          1.5         663.6       1.0X
Short column with UTF-8                             956            975          25          1.0         956.0       0.7X
Wide column without encoding                       7269           7299          34          0.1        7268.7       0.1X
Wide column with UTF-8                            10444          10474          28          0.1       10444.5       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            90             91           3         11.2          89.5       1.0X
from_json                                          2048           2057          12          0.5        2047.7       0.0X
json_tuple                                         2334           2340           6          0.4        2334.1       0.0X
get_json_object wholestage off                     2295           2299           4          0.4        2295.4       0.0X
get_json_object wholestage on                      2158           2161           3          0.5        2158.3       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           390            394           4         12.8          78.1       1.0X
schema inferring                                   2430           2433           3          2.1         486.0       0.2X
parsing                                            2888           2892           4          1.7         577.7       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           931            940           9          5.4         186.3       1.0X
Schema inferring                                   3158           3165           6          1.6         631.6       0.3X
Parsing without charset                            3250           3260          13          1.5         650.0       0.3X
Parsing with UTF-8                                 4719           4731          10          1.1         943.8       0.2X

OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      167            174          10          6.0         167.1       1.0X
to_json(timestamp)                                  994           1007          14          1.0         994.0       0.2X
write timestamps to files                           920            929          13          1.1         920.4       0.2X
Create a dataset of dates                           177            185           9          5.7         177.0       0.9X
to_json(date)                                       706            708           3          1.4         705.7       0.2X
write dates to files                                610            612           2          1.6         609.7       0.3X

OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   245            248           4          4.1         245.1       1.0X
read timestamps from files                                                      2415           2427          10          0.4        2415.2       0.1X
infer timestamps from files                                                     6097           6119          29          0.2        6097.0       0.0X
read date text from files                                                        212            216           7          4.7         211.6       1.2X
read date from files                                                             811            823          12          1.2         810.8       0.3X
timestamp strings                                                                263            264           1          3.8         263.0       0.9X
parse timestamps from Dataset[String]                                           2605           2617          13          0.4        2605.0       0.1X
infer timestamps from Dataset[String]                                           6289           6296          11          0.2        6288.8       0.0X
date strings                                                                     331            335           5          3.0         330.9       0.7X
parse dates from Dataset[String]                                                1151           1161           8          0.9        1151.3       0.2X
from_json(timestamp)                                                            4069           4078          12          0.2        4068.7       0.1X
from_json(date)                                                                 2496           2505           9          0.4        2496.4       0.1X
infer error timestamps from Dataset[String] with default format                 1768           1787          28          0.6        1768.1       0.1X
infer error timestamps from Dataset[String] with user-provided format           1754           1761          11          0.6        1754.4       0.1X
infer error timestamps from Dataset[String] with legacy format                  1727           1731           5          0.6        1727.0       0.1X

OpenJDK 64-Bit Server VM 17.0.7+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       18091          18124          47          0.0      180913.8       1.0X
pushdown disabled                                 17281          17286           7          0.0      172807.4       1.0X
w/ filters                                          949            982          28          0.1        9494.2      19.1X


