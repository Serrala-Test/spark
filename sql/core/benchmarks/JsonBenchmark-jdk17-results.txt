================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1071           1074           6          4.7         214.1       1.0X
UTF-8 is set                                       1593           1602          11          3.1         318.5       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                         894            901           9          5.6         178.9       1.0X
UTF-8 is set                                       1324           1334           9          3.8         264.9       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3326           3333           7          0.3        3326.0       1.0X
UTF-8 is set                                       3374           3393          18          0.3        3374.2       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        6785           6799          12          0.0      135703.8       1.0X
UTF-8 is set                                       7159           7174          23          0.0      143175.1       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                   961            963           3          1.0         960.8       1.0X
Select 1 column                                     920            927           6          1.1         919.9       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       274            284          10          3.6         274.0       1.0X
Short column with UTF-8                             325            335          15          3.1         325.3       0.8X
Wide column without encoding                       5224           5397         283          0.2        5223.8       0.1X
Wide column with UTF-8                             5651           5679          49          0.2        5650.9       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            36             37           1         27.7          36.0       1.0X
from_json                                           554            557           5          1.8         553.8       0.1X
json_tuple                                          625            626           2          1.6         624.6       0.1X
get_json_object                                     544            545           1          1.8         544.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           149            150           1         33.6          29.8       1.0X
schema inferring                                    858            860           3          5.8         171.6       0.2X
parsing                                            1078           1085           8          4.6         215.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           395            406          11         12.7          78.9       1.0X
Schema inferring                                   1076           1099          22          4.6         215.1       0.4X
Parsing without charset                            1164           1176          10          4.3         232.9       0.3X
Parsing with UTF-8                                 1609           1648          62          3.1         321.9       0.2X

OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                       98             99           0         10.2          98.4       1.0X
to_json(timestamp)                                  606            615          11          1.7         605.8       0.2X
write timestamps to files                           719            732          12          1.4         718.7       0.1X
Create a dataset of dates                           108            111           3          9.3         107.9       0.9X
to_json(date)                                       370            379           8          2.7         369.5       0.3X
write dates to files                                527            539          10          1.9         527.4       0.2X

OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                      142            149           7          7.1         141.6       1.0X
read timestamps from files                         1183           1187           4          0.8        1182.6       0.1X
infer timestamps from files                        3904           3922          16          0.3        3904.0       0.0X
read date text from files                            89            100          19         11.3          88.7       1.6X
read date from files                                304            322          16          3.3         303.7       0.5X
timestamp strings                                   165            168           5          6.1         165.2       0.9X
parse timestamps from Dataset[String]              1075           1079           3          0.9        1075.2       0.1X
infer timestamps from Dataset[String]              3422           3427           5          0.3        3421.8       0.0X
date strings                                        205            209           6          4.9         205.2       0.7X
parse dates from Dataset[String]                    424            425           1          2.4         423.9       0.3X
from_json(timestamp)                               1462           1463           1          0.7        1461.5       0.1X
from_json(date)                                     738            743           4          1.4         738.5       0.2X

OpenJDK 64-Bit Server VM 17.0.3+7-LTS on Mac OS X 12.2.1
Apple M1 Pro
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       10550          10602          64          0.0      105497.5       1.0X
pushdown disabled                                 10184          10190          10          0.0      101838.5       1.0X
w/ filters                                          445            476          28          0.2        4447.7      23.7X


