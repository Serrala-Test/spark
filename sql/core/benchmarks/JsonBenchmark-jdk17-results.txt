================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2903           2978         124          1.7         580.7       1.0X
UTF-8 is set                                       4405           4414          13          1.1         881.0       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2315           2344          31          2.2         463.0       1.0X
UTF-8 is set                                       3804           3823          26          1.3         760.9       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4350           4558         333          0.2        4349.6       1.0X
UTF-8 is set                                       6379           6388           8          0.2        6378.6       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       12162          12338         248          0.0      243240.1       1.0X
UTF-8 is set                                      13298          13369         122          0.0      265967.3       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1940           1961          32          0.5        1940.2       1.0X
Select 1 column                                    1463           1476          13          0.7        1463.1       1.3X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       674            691          26          1.5         674.5       1.0X
Short column with UTF-8                            1018           1032          16          1.0        1018.0       0.7X
Wide column without encoding                       7169           7247          84          0.1        7169.3       0.1X
Wide column with UTF-8                            10533          10542           9          0.1       10532.9       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            90             92           3         11.1          89.9       1.0X
from_json                                          2015           2046          29          0.5        2015.5       0.0X
json_tuple                                         2346           2354          10          0.4        2346.2       0.0X
get_json_object wholestage off                     2245           2261          23          0.4        2244.8       0.0X
get_json_object wholestage on                      2090           2108          23          0.5        2090.2       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           394            407          22         12.7          78.7       1.0X
schema inferring                                   2418           2420           2          2.1         483.6       0.2X
parsing                                            2774           2775           2          1.8         554.7       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           905            921          15          5.5         180.9       1.0X
Schema inferring                                   3182           3199          19          1.6         636.5       0.3X
Parsing without charset                            3345           3359          13          1.5         669.0       0.3X
Parsing with UTF-8                                 4819           4822           4          1.0         963.8       0.2X

OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      190            198           8          5.3         190.0       1.0X
to_json(timestamp)                                 1072           1095          20          0.9        1072.1       0.2X
write timestamps to files                           904            912          12          1.1         903.6       0.2X
Create a dataset of dates                           184            196          11          5.4         183.5       1.0X
to_json(date)                                       787            796          10          1.3         786.8       0.2X
write dates to files                                606            611           5          1.7         605.8       0.3X

OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                      230            234           4          4.4         229.6       1.0X
read timestamps from files                         2454           2483          36          0.4        2454.0       0.1X
infer timestamps from files                        6184           6189           8          0.2        6184.4       0.0X
read date text from files                           208            212           6          4.8         208.3       1.1X
read date from files                                825            826           1          1.2         825.2       0.3X
timestamp strings                                   266            272           5          3.8         266.4       0.9X
parse timestamps from Dataset[String]              2539           2542           3          0.4        2539.1       0.1X
infer timestamps from Dataset[String]              6204           6215          14          0.2        6204.5       0.0X
date strings                                        319            326           7          3.1         318.7       0.7X
parse dates from Dataset[String]                   1056           1058           2          0.9        1056.2       0.2X
from_json(timestamp)                               3985           3990           8          0.3        3984.9       0.1X
from_json(date)                                    2457           2472          19          0.4        2456.7       0.1X

OpenJDK 64-Bit Server VM 17.0.6+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       17935          17958          22          0.0      179346.4       1.0X
pushdown disabled                                 17149          17159          11          0.0      171492.0       1.0X
w/ filters                                          635            674          53          0.2        6354.4      28.2X


