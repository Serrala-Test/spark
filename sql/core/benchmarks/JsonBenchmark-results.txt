================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2585           4133        2420          1.9         517.0       1.0X
UTF-8 is set                                       3503           4305        1376          1.4         700.5       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2160           2246         114          2.3         432.0       1.0X
UTF-8 is set                                       3335           3365          32          1.5         666.9       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3622           3653          43          0.3        3621.7       1.0X
UTF-8 is set                                       4808           4839          39          0.2        4808.0       0.8X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        9477          11539        2040          0.0      189544.7       1.0X
UTF-8 is set                                      10330          11447        1267          0.0      206592.1       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1670           1677           7          0.6        1670.0       1.0X
Select 1 column                                    1947           1960          12          0.5        1946.7       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       628            633           5          1.6         628.2       1.0X
Short column with UTF-8                             845            852           9          1.2         844.7       0.7X
Wide column without encoding                       5448           5589         123          0.2        5448.2       0.1X
Wide column with UTF-8                             7722           7823         113          0.1        7721.9       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            66             71           5         15.1          66.1       1.0X
from_json                                          1205           1226          22          0.8        1205.4       0.1X
json_tuple wholestage off                          1562           1604          36          0.6        1562.1       0.0X
json_tuple wholestage on                           1334           1348          12          0.7        1333.9       0.0X
get_json_object wholestage off                     1198           1230          35          0.8        1198.5       0.1X
get_json_object wholestage on                      1217           1238          25          0.8        1216.5       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           258            269          10         19.4          51.6       1.0X
schema inferring                                   1892           1945          86          2.6         378.3       0.1X
parsing                                            2840           2996         186          1.8         568.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           799            855          50          6.3         159.7       1.0X
Schema inferring                                   2601           2721         150          1.9         520.1       0.3X
Parsing without charset                            3115           3134          28          1.6         623.1       0.3X
Parsing with UTF-8                                 4120           4124           5          1.2         824.0       0.2X

OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      118            138          22          8.5         118.2       1.0X
to_json(timestamp)                                  818            820           4          1.2         817.6       0.1X
write timestamps to files                           970            986          14          1.0         970.0       0.1X
Create a dataset of dates                           187            253         114          5.4         186.9       0.6X
to_json(date)                                       616           1214         712          1.6         615.9       0.2X
write dates to files                                620            623           3          1.6         619.7       0.2X

OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   186            189           5          5.4         186.0       1.0X
read timestamps from files                                                      1358           1371          12          0.7        1357.5       0.1X
infer timestamps from files                                                     2574           2670          96          0.4        2573.7       0.1X
read date text from files                                                        178            183           7          5.6         177.9       1.0X
read date from files                                                             771            784          16          1.3         770.7       0.2X
timestamp strings                                                                160            164           4          6.2         160.3       1.2X
parse timestamps from Dataset[String]                                           1135           1158          22          0.9        1135.2       0.2X
infer timestamps from Dataset[String]                                           1981           2771        1260          0.5        1981.0       0.1X
date strings                                                                     232            234           3          4.3         232.2       0.8X
parse dates from Dataset[String]                                                 946            950           5          1.1         945.9       0.2X
from_json(timestamp)                                                            1802           1805           3          0.6        1802.2       0.1X
from_json(date)                                                                 1510           1510           1          0.7        1509.7       0.1X
infer error timestamps from Dataset[String] with default format                 1361           1373          18          0.7        1360.7       0.1X
infer error timestamps from Dataset[String] with user-provided format           1361           1379          19          0.7        1361.3       0.1X
infer error timestamps from Dataset[String] with legacy format                  1378           1381           3          0.7        1377.8       0.1X

OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        9079           9284         354          0.0       90787.2       1.0X
pushdown disabled                                  8281           8317          32          0.0       82813.6       1.1X
w/ filters                                          685            702          18          0.1        6850.9      13.3X

OpenJDK 64-Bit Server VM 17.0.9+0 on Mac OS X 12.6.7
Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2813           2859          64          0.0      281270.5       1.0X


