================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1099           1116          15          4.5         219.9       1.0X
UTF-8 is set                                       1522           1530           8          3.3         304.4       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                         910            928          16          5.5         182.0       1.0X
UTF-8 is set                                       1642           1662          20          3.0         328.5       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2638           2650          11          0.4        2637.7       1.0X
UTF-8 is set                                       3661           3692          40          0.3        3660.7       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        6860           6892          28          0.0      137195.5       1.0X
UTF-8 is set                                       7299           7324          23          0.0      145980.8       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1047           1049           2          1.0        1046.9       1.0X
Select 1 column                                     643            665          31          1.6         642.8       1.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       278            299          36          3.6         277.5       1.0X
Short column with UTF-8                             379            403          36          2.6         379.0       0.7X
Wide column without encoding                       4798           4831          29          0.2        4798.2       0.1X
Wide column with UTF-8                             5665           5728         107          0.2        5664.5       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            64             65           2         15.6          63.9       1.0X
from_json                                           730            733           2          1.4         730.2       0.1X
json_tuple                                          689            691           3          1.5         689.3       0.1X
get_json_object                                     591            592           2          1.7         590.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           297            308          10         16.9          59.3       1.0X
schema inferring                                    969            971           2          5.2         193.9       0.3X
parsing                                            1193           1195           4          4.2         238.6       0.2X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           389            400          15         12.8          77.9       1.0X
Schema inferring                                   1132           1159          40          4.4         226.4       0.3X
Parsing without charset                            1343           1360          23          3.7         268.5       0.3X
Parsing with UTF-8                                 1694           1717          21          3.0         338.7       0.2X

OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      113            115           2          8.8         113.2       1.0X
to_json(timestamp)                                  581            587           9          1.7         580.7       0.2X
write timestamps to files                           573            591          30          1.7         573.0       0.2X
Create a dataset of dates                            98            112          12         10.2          98.4       1.2X
to_json(date)                                       518            531          15          1.9         518.1       0.2X
write dates to files                                391            411          33          2.6         390.8       0.3X

OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                      101            104           6          9.9         101.1       1.0X
read timestamps from files                         1196           1199           4          0.8        1195.9       0.1X
infer timestamps from files                        4025           4082          51          0.2        4025.0       0.0X
read date text from files                            86             88           3         11.6          86.3       1.2X
read date from files                                339            349          16          3.0         338.9       0.3X
timestamp strings                                   133            133           1          7.5         132.6       0.8X
parse timestamps from Dataset[String]              1083           1088           4          0.9        1083.0       0.1X
infer timestamps from Dataset[String]              3721           3736          20          0.3        3720.8       0.0X
date strings                                        251            260          13          4.0         251.1       0.4X
parse dates from Dataset[String]                    495            503           7          2.0         495.1       0.2X
from_json(timestamp)                               1712           1726          13          0.6        1712.3       0.1X
from_json(date)                                     947            959          13          1.1         946.8       0.1X

OpenJDK 64-Bit Server VM 1.8.0_292-b10 on Mac OS X 12.2.1
Apple M1 Pro
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       11170          11300         119          0.0      111704.0       1.0X
pushdown disabled                                 10644          10667          21          0.0      106437.2       1.0X
w/ filters                                          352            354           2          0.3        3519.8      31.7X


