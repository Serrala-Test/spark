================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       65774          65814          54          1.5         657.7       1.0X
UTF-8 is set                                     128262         129226         835          0.8        1282.6       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       50694          50826         154          2.0         506.9       1.0X
UTF-8 is set                                     110798         111033         207          0.9        1108.0       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       58761          59527        1200          0.2        5876.1       1.0X
UTF-8 is set                                     103308         103522         322          0.1       10330.8       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                      142933         143023         117          0.0      285865.3       1.0X
UTF-8 is set                                     159593         159637          77          0.0      319185.8       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                 22449          22538         102          0.4        2244.9       1.0X
Select 1 column                                   25566          25607          42          0.4        2556.6       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                      8861           8914          49          1.1         886.1       1.0X
Short column with UTF-8                           14888          14926          54          0.7        1488.8       0.6X
Wide column without encoding                     140988         141264         319          0.1       14098.8       0.1X
Wide column with UTF-8                           177907         178123         199          0.1       17790.7       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                          1211           1236          22          8.3         121.1       1.0X
from_json                                         22813          23170         356          0.4        2281.3       0.1X
json_tuple                                        28769          28787          21          0.3        2876.9       0.0X
get_json_object                                   21885          22022         120          0.5        2188.5       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                          5925           5950          37          8.4         118.5       1.0X
schema inferring                                  39010          39097          82          1.3         780.2       0.2X
parsing                                           32788          33365         501          1.5         655.8       0.2X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                          9698           9721          24          5.2         194.0       1.0X
Schema inferring                                  37808          37918         106          1.3         756.2       0.3X
Parsing without charset                           47682          47927         215          1.0         953.6       0.2X
Parsing with UTF-8                                60058          60380         457          0.8        1201.2       0.2X

OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                     1973           1990          18          5.1         197.3       1.0X
to_json(timestamp)                                15622          15750         210          0.6        1562.2       0.1X
write timestamps to files                         12520          12548          31          0.8        1252.0       0.2X
Create a dataset of dates                          2312           2337          37          4.3         231.2       0.9X
to_json(date)                                      9865           9898          33          1.0         986.5       0.2X
write dates to files                               7422           7633         338          1.3         742.2       0.3X

OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                     2382           2396          13          4.2         238.2       1.0X
read timestamps from files                        45646          45858         204          0.2        4564.6       0.1X
infer timestamps from files                       90992          91348         322          0.1        9099.2       0.0X
read date text from files                          2127           2135          14          4.7         212.7       1.1X
read date from files                              19175          19205          36          0.5        1917.5       0.1X
timestamp strings                                  3918           3943          23          2.6         391.8       0.6X
parse timestamps from Dataset[String]             48430          48529         102          0.2        4843.0       0.0X
infer timestamps from Dataset[String]             99672          99913         357          0.1        9967.2       0.0X
date strings                                       4570           4577          13          2.2         457.0       0.5X
parse dates from Dataset[String]                  27256          27306          67          0.4        2725.6       0.1X
from_json(timestamp)                              75730          76015         257          0.1        7573.0       0.0X
from_json(date)                                   49247          49331          86          0.2        4924.7       0.0X

OpenJDK 64-Bit Server VM 1.8.0_252-8u252-b09-1~18.04-b09 on Linux 4.15.0-1063-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       28226          28299          79          0.0      282264.0       1.0X
pushdown disabled                                 28406          28426          33          0.0      284055.5       1.0X
w/ filters                                          919            926           7          0.1        9186.0      30.7X


