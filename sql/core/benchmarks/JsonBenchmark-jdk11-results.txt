================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1150           1157           9          4.3         230.0       1.0X
UTF-8 is set                                       1545           1550           7          3.2         309.1       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                         907            917           9          5.5         181.5       1.0X
UTF-8 is set                                       1246           1264          19          4.0         249.2       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3273           3292          16          0.3        3273.4       1.0X
UTF-8 is set                                       3844           3862          18          0.3        3843.8       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        7304           7329          38          0.0      146085.7       1.0X
UTF-8 is set                                       7943           7961          17          0.0      158856.5       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                   943            945           2          1.1         942.9       1.0X
Select 1 column                                     612            622          14          1.6         611.5       1.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       264            280          27          3.8         264.3       1.0X
Short column with UTF-8                             333            366          29          3.0         332.8       0.8X
Wide column without encoding                       5472           5504          36          0.2        5471.9       0.0X
Wide column with UTF-8                             6390           6394           4          0.2        6390.4       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            37             37           0         27.2          36.7       1.0X
from_json                                           565            567           3          1.8         564.7       0.1X
json_tuple                                          682            685           4          1.5         681.7       0.1X
get_json_object                                     579            580           1          1.7         578.7       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           154            155           2         32.5          30.8       1.0X
schema inferring                                    909            913           4          5.5         181.8       0.2X
parsing                                            1139           1144           4          4.4         227.8       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           377            396          28         13.3          75.5       1.0X
Schema inferring                                   1165           1170           7          4.3         233.0       0.3X
Parsing without charset                            1157           1178          18          4.3         231.3       0.3X
Parsing with UTF-8                                 1528           1540          16          3.3         305.7       0.2X

OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      106            117          17          9.4         105.8       1.0X
to_json(timestamp)                                  589            593           5          1.7         589.5       0.2X
write timestamps to files                           553            565          17          1.8         553.4       0.2X
Create a dataset of dates                           111            112           1          9.0         111.0       1.0X
to_json(date)                                       394            398           5          2.5         394.4       0.3X
write dates to files                                395            436          45          2.5         395.1       0.3X

OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                      106            106           1          9.4         106.0       1.0X
read timestamps from files                         1123           1143          32          0.9        1122.7       0.1X
infer timestamps from files                        3820           3841          27          0.3        3819.6       0.0X
read date text from files                            90            129          34         11.1          90.2       1.2X
read date from files                                299            335          32          3.3         298.7       0.4X
timestamp strings                                   172            173           2          5.8         171.7       0.6X
parse timestamps from Dataset[String]              1144           1145           2          0.9        1143.8       0.1X
infer timestamps from Dataset[String]              3576           3585           7          0.3        3576.2       0.0X
date strings                                        201            202           1          5.0         201.3       0.5X
parse dates from Dataset[String]                    446            447           1          2.2         446.0       0.2X
from_json(timestamp)                               1483           1488           6          0.7        1483.4       0.1X
from_json(date)                                     746            758          10          1.3         746.1       0.1X

OpenJDK 64-Bit Server VM 11.0.14.1+1-LTS on Mac OS X 12.2.1
Apple M1 Pro
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       11150          11273         140          0.0      111502.0       1.0X
pushdown disabled                                 11024          11035          15          0.0      110243.1       1.0X
w/ filters                                          319            320           2          0.3        3190.9      34.9X


