================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3106           3189         131          1.6         621.3       1.0X
UTF-8 is set                                       4409           4452          58          1.1         881.9       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2436           2476          54          2.1         487.2       1.0X
UTF-8 is set                                       3741           3776          30          1.3         748.3       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4649           4889         308          0.2        4649.4       1.0X
UTF-8 is set                                       8644           8663          19          0.1        8643.9       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       13988          14102         153          0.0      279753.5       1.0X
UTF-8 is set                                      15574          15637          81          0.0      311471.0       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  2070           2096          35          0.5        2070.0       1.0X
Select 1 column                                    1542           1546           4          0.6        1542.2       1.3X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       706            733          24          1.4         705.9       1.0X
Short column with UTF-8                             951            972          18          1.1         951.4       0.7X
Wide column without encoding                       7715           7783          71          0.1        7715.1       0.1X
Wide column with UTF-8                            13083          13086           3          0.1       13083.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           102            108           6          9.8         101.6       1.0X
from_json                                          1910           1926          16          0.5        1909.6       0.1X
json_tuple                                         2241           2253          13          0.4        2241.0       0.0X
get_json_object wholestage off                     2073           2082          13          0.5        2073.2       0.0X
get_json_object wholestage on                      1955           1968          12          0.5        1954.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           439            450          13         11.4          87.8       1.0X
schema inferring                                   2504           2533          25          2.0         500.9       0.2X
parsing                                            2953           2962          14          1.7         590.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           964            971           6          5.2         192.8       1.0X
Schema inferring                                   3212           3224          19          1.6         642.5       0.3X
Parsing without charset                            3335           3348          22          1.5         667.0       0.3X
Parsing with UTF-8                                 4609           4623          12          1.1         921.9       0.2X

OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      178            185           8          5.6         178.2       1.0X
to_json(timestamp)                                 1096           1127          30          0.9        1096.1       0.2X
write timestamps to files                          1003           1007           7          1.0        1002.8       0.2X
Create a dataset of dates                           185            196          12          5.4         185.2       1.0X
to_json(date)                                       784            790           8          1.3         784.2       0.2X
write dates to files                                627            636           9          1.6         627.3       0.3X

OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                      250            255           5          4.0         249.9       1.0X
read timestamps from files                         2521           2544          32          0.4        2521.3       0.1X
infer timestamps from files                        6391           6394           5          0.2        6390.8       0.0X
read date text from files                           230            244          22          4.3         230.2       1.1X
read date from files                                806            830          21          1.2         806.1       0.3X
timestamp strings                                   287            298          11          3.5         286.5       0.9X
parse timestamps from Dataset[String]              2739           2743           4          0.4        2738.7       0.1X
infer timestamps from Dataset[String]              6605           6620          15          0.2        6604.7       0.0X
date strings                                        349            358          15          2.9         348.9       0.7X
parse dates from Dataset[String]                   1128           1138          17          0.9        1127.9       0.2X
from_json(timestamp)                               4010           4050          51          0.2        4009.7       0.1X
from_json(date)                                    2425           2427           2          0.4        2424.8       0.1X

OpenJDK 64-Bit Server VM 11.0.18+10 on Linux 5.15.0-1034-azure
Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       18787          18827          38          0.0      187871.8       1.0X
pushdown disabled                                 18393          18401           7          0.0      183929.3       1.0X
w/ filters                                          641            652           9          0.2        6411.9      29.3X


