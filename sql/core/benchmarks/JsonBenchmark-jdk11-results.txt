================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        3493           3689         209          1.4         698.6       1.0X
UTF-8 is set                                       4954           4984          50          1.0         990.7       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2723           2771          54          1.8         544.6       1.0X
UTF-8 is set                                       4092           4166          99          1.2         818.4       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        5025           5208         175          0.2        5024.7       1.0X
UTF-8 is set                                       9642           9678          34          0.1        9641.7       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       16465          22840        1784          0.0      329303.4       1.0X
UTF-8 is set                                      21291          21761         785          0.0      425817.2       0.8X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  2749           2881         115          0.4        2749.2       1.0X
Select 1 column                                    1951           2014          83          0.5        1950.9       1.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       773            796          21          1.3         773.0       1.0X
Short column with UTF-8                            1096           1133          32          0.9        1096.1       0.7X
Wide column without encoding                       8231           8389         140          0.1        8230.8       0.1X
Wide column with UTF-8                            12882          13034         147          0.1       12881.9       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            99            109           9         10.1          98.6       1.0X
from_json                                          2766           2816          46          0.4        2766.0       0.0X
json_tuple                                         3064           3077          11          0.3        3063.8       0.0X
get_json_object wholestage off                     2897           2917          32          0.3        2897.3       0.0X
get_json_object wholestage on                      2832           2853          22          0.4        2831.6       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           433            453          26         11.5          86.7       1.0X
schema inferring                                   2821           2933         101          1.8         564.2       0.2X
parsing                                            3626           3650          27          1.4         725.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                          1123           1128           5          4.5         224.7       1.0X
Schema inferring                                   3753           3791          55          1.3         750.5       0.3X
Parsing without charset                            3909           3977          64          1.3         781.7       0.3X
Parsing with UTF-8                                 5491           5622         117          0.9        1098.2       0.2X

OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      210            231          29          4.8         210.3       1.0X
to_json(timestamp)                                 1436           1452          27          0.7        1436.2       0.1X
write timestamps to files                          1185           1259          73          0.8        1184.8       0.2X
Create a dataset of dates                           230            237           8          4.4         229.6       0.9X
to_json(date)                                       927            992          67          1.1         926.7       0.2X
write dates to files                                770            782          15          1.3         770.2       0.3X

OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   304            314           9          3.3         304.0       1.0X
read timestamps from files                                                      3374           3497         120          0.3        3373.8       0.1X
infer timestamps from files                                                     8419           8576         141          0.1        8418.5       0.0X
read date text from files                                                        267            299          48          3.8         266.6       1.1X
read date from files                                                            1024           1056          35          1.0        1024.0       0.3X
timestamp strings                                                                338            355          23          3.0         338.4       0.9X
parse timestamps from Dataset[String]                                           3663           3730         112          0.3        3663.3       0.1X
infer timestamps from Dataset[String]                                           8421           8578         190          0.1        8420.7       0.0X
date strings                                                                     418            444          25          2.4         418.1       0.7X
parse dates from Dataset[String]                                                1359           1409          46          0.7        1359.0       0.2X
from_json(timestamp)                                                            5857           5910          85          0.2        5856.8       0.1X
from_json(date)                                                                 3299           3312          12          0.3        3299.2       0.1X
infer error timestamps from Dataset[String] with default format                 2114           2231         122          0.5        2113.6       0.1X
infer error timestamps from Dataset[String] with user-provided format           2216           2240          22          0.5        2215.8       0.1X
infer error timestamps from Dataset[String] with legacy format                  2266           2318          53          0.4        2265.7       0.1X

OpenJDK 64-Bit Server VM 11.0.19+7 on Linux 5.15.0-1037-azure
Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       22957          23086         206          0.0      229573.4       1.0X
pushdown disabled                                 21483          21850         324          0.0      214832.5       1.1X
w/ filters                                          714            735          20          0.1        7135.0      32.2X


