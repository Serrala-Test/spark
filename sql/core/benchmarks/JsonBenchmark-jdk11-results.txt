================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       70755          70863         105          1.4         707.5       1.0X
UTF-8 is set                                     118547         118654         122          0.8        1185.5       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       53952          54040          78          1.9         539.5       1.0X
UTF-8 is set                                      80931          81005         105          1.2         809.3       0.7X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       61847          62166         518          0.2        6184.7       1.0X
UTF-8 is set                                     102986         103291         356          0.1       10298.6       0.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                      140378         141271         875          0.0      280755.2       1.0X
UTF-8 is set                                     160911         161092         310          0.0      321822.5       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                 21115          21204          78          0.5        2111.5       1.0X
Select 1 column                                   16988          17016          26          0.6        1698.8       1.2X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                      8655           8676          25          1.2         865.5       1.0X
Short column with UTF-8                           13418          13469          59          0.7        1341.8       0.6X
Wide column without encoding                      96087          96251         181          0.1        9608.7       0.1X
Wide column with UTF-8                           148767         149157         592          0.1       14876.7       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           626            627           1         16.0          62.6       1.0X
from_json                                         22813          23069         224          0.4        2281.3       0.0X
json_tuple                                        28082          28833         651          0.4        2808.2       0.0X
get_json_object                                   21876          21939          77          0.5        2187.6       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                          2989           2996           7         16.7          59.8       1.0X
schema inferring                                  29500          29576          92          1.7         590.0       0.1X
parsing                                           35181          35379         220          1.4         703.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                         10670          10708          55          4.7         213.4       1.0X
Schema inferring                                  41800          41822          33          1.2         836.0       0.3X
Parsing without charset                           46146          46168          27          1.1         922.9       0.2X
Parsing with UTF-8                                64824          64950         138          0.8        1296.5       0.2X

OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                     2165           2184          17          4.6         216.5       1.0X
to_json(timestamp)                                15820          15912         140          0.6        1582.0       0.1X
write timestamps to files                         12224          12269          40          0.8        1222.4       0.2X
Create a dataset of dates                          2268           2290          20          4.4         226.8       1.0X
to_json(date)                                      9304           9364          55          1.1         930.4       0.2X
write dates to files                               7564           7585          19          1.3         756.4       0.3X

OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Read dates and timestamps:                Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                     2575           2590          16          3.9         257.5       1.0X
read timestamps from files                        38376          38471         111          0.3        3837.6       0.1X
infer timestamps from files                       80181          80377         173          0.1        8018.1       0.0X
read date text from files                          2313           2316           5          4.3         231.3       1.1X
read date from files                              27926          27997          80          0.4        2792.6       0.1X
timestamp strings                                  3085           3101          15          3.2         308.5       0.8X
parse timestamps from Dataset[String]             45862          46438         503          0.2        4586.2       0.1X
infer timestamps from Dataset[String]             91527          91674         174          0.1        9152.7       0.0X
date strings                                       4102           4108           5          2.4         410.2       0.6X
parse dates from Dataset[String]                  38044          38134         125          0.3        3804.4       0.1X
from_json(timestamp)                              62079          62124          68          0.2        6207.9       0.0X
from_json(date)                                   54834          54871          51          0.2        5483.4       0.0X

OpenJDK 64-Bit Server VM 11.0.6+10-post-Ubuntu-1ubuntu118.04.1 on Linux 4.15.0-1044-aws
Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                       23254          23289          31          0.0      232540.7       1.0X
pushdown disabled                                 23522          23532          11          0.0      235219.8       1.0X
w/ filters                                          912            918           7          0.1        9124.4      25.5X


