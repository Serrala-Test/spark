-- Automatically generated by CrossDbmsQueryTestSuite with postgres
-- !query
CREATE TEMPORARY VIEW m AS SELECT * FROM (VALUES
  (NULL, NULL),
  (NULL, 1.0),
  (2, 3.0),
  (4, 5.0))
  AS m(a, b)
-- !query output



-- !query
CREATE TEMPORARY VIEW s AS SELECT * FROM (VALUES
  (NULL, NULL),
  (0, 1.0),
  (2, 3.0),
  (4, NULL))
  AS s(c, d)
-- !query output



-- !query
SELECT *
FROM   m
WHERE  (a, b) NOT IN (SELECT *
                      FROM   s
                      WHERE  d > 5.0) -- Matches no rows
-- !query output
2	3.0
4	5.0
NULL	1.0
NULL	NULL


-- !query
SELECT *
FROM   m
WHERE  (a, b) NOT IN (SELECT *
                      FROM s
                      WHERE c IS NULL AND d IS NULL) -- Matches only (null, null)
-- !query output



-- !query
SELECT *
FROM   m
WHERE  a IS NULL AND b IS NULL -- Matches only (null, null)
       AND (a, b) NOT IN (SELECT *
                          FROM s
                          WHERE c IS NOT NULL) -- Matches (0, 1.0), (2, 3.0), (4, null)
-- !query output



-- !query
SELECT *
FROM   m
WHERE  b = 1.0 -- Matches (null, 1.0)
       AND (a, b) NOT IN (SELECT *
                          FROM s
                          WHERE c IS NOT NULL) -- Matches (0, 1.0), (2, 3.0), (4, null)
-- !query output



-- !query
SELECT *
FROM   m
WHERE  b = 1.0 -- Matches (null, 1.0)
       AND (a, b) NOT IN (SELECT *
                          FROM s
                          WHERE c = 2) -- Matches (2, 3.0)
-- !query output
NULL	1.0


-- !query
SELECT *
FROM   m
WHERE  b = 3.0 -- Matches (2, 3.0)
       AND (a, b) NOT IN (SELECT *
                          FROM s
                          WHERE c = 2) -- Matches (2, 3.0)
-- !query output



-- !query
SELECT *
FROM   m
WHERE  b = 5.0 -- Matches (4, 5.0)
       AND (a, b) NOT IN (SELECT *
                          FROM s
                          WHERE c = 2) -- Matches (2, 3.0)
-- !query output
4	5.0
