---
layout: global
title: KAFKA_DATA_LOSS error class
displayTitle: KAFKA_DATA_LOSS error class
license: |
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
---

<!--
  DO NOT EDIT THIS FILE.
  It was generated automatically by `org.apache.spark.SparkThrowableSuite`.
-->

[SQLSTATE: 22000](sql-error-conditions-sqlstates.html#class-22-data-exception)

Some data may have been lost because they are not available in Kafka any more;
either the data was aged out by Kafka or the topic may have been deleted before all the data in the
topic was processed.
If you don't want your streaming query to fail on such cases, set the source option failOnDataLoss to false.
Reason:

This error class has the following derived error classes:

## ADDED_PARTITION_DOES_NOT_START_FROM_OFFSET_ZERO

Added partition `<topicPartition>` starts from `<startOffset>` instead of 0.

## COULD_NOT_READ_OFFSET_RANGE

Could not read records in offset [`<startOffset>`, `<endOffset>`) for topic partition `<topicPartition>`
with consumer group `<groupId>`.

## INITIAL_OFFSET_NOT_FOUND_FOR_PARTITIONS

Cannot find initial offsets for partitions `<partitions>`. They may have been deleted.

## PARTITIONS_DELETED

Partitions `<partitions>` have been deleted.

## PARTITIONS_DELETED_AND_GROUP_ID_CONFIG_PRESENT

Partitions `<partitions>` have been deleted.
Kafka option 'kafka.`<groupIdConfig>`' has been set on this query, it is
not recommended to set this option. This option is unsafe to use since multiple concurrent
queries or sources using the same group id will interfere with each other as they are part
of the same consumer group. Restarted queries may also suffer interference from the
previous run having the same group id. The user should have only one query per group id,
and/or set the option 'kafka.session.timeout.ms' to be very small so that the Kafka
consumers from the previous query are marked dead by the Kafka group coordinator before the
restarted query starts running.

## PARTITION_OFFSET_CHANGED

Partition `<topicPartition>` offset was changed from `<prevOffset>` to `<newOffset>`.

## START_OFFSET_RESET

Starting offset for `<topicPartition>` was `<offset>` but consumer reset to `<fetchedOffset>`.


