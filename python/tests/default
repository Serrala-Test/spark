. tests/common

PYVERSION=$1
PYBIN_NAME="python${PYVERSION}"

# Try to test with particular version of Python, since that's the minimum version that we support:
if [ $(which $PYBIN_NAME) ]; then
    export PYSPARK_PYTHON=$PYBIN_NAME
    echo "Testing with Python version:"
    $PYSPARK_PYTHON --version

    run_core_tests
    run_sql_tests
    run_mllib_tests
    run_ml_tests
    run_streaming_tests
else
    echo "Skipping tests with Python version: $PYVERSION"
    FAILED=1
fi
